{"version":3,"sources":["webpack:///./resources/js/common/wysiwyg-editor/index.js","webpack:///./resources/js/modules/article/Article.js","webpack:///./resources/js/modules/article/pages/edit/Page.js","webpack:///./resources/js/modules/article/pages/edit/components/Form.js","webpack:///./resources/js/modules/article/pages/edit/index.js","webpack:///./resources/js/modules/article/service.js","webpack:///./resources/js/modules/article/store/actions.js"],"names":["WYSIWYG","Component","constructor","props","value","blocksFromHTML","convertFromHTML","state","ContentState","createFromBlockArray","contentBlocks","entityMap","EditorState","createWithContent","editorState","setState","onChange","draftToHtml","convertToRaw","getCurrentContent","convertHtmlToEditorState","onEditorStateChange","bind","render","PropTypes","string","isRequired","func","Article","Model","initialize","slug","title","description","content","published","publishedAt","moment","user","User","Page","validator","ReeValidate","article","toJson","errors","handleSubmit","handleChange","UNSAFE_componentWillMount","loadArticle","UNSAFE_componentWillReceiveProps","nextProps","_","isEqual","match","dispatch","id","articleEditRequest","params","name","remove","validate","then","e","preventDefault","validateAll","success","submit","articleUpdateRequest","catch","error","statusCode","forOwn","message","field","add","renderForm","object","displayName","propTypes","onSubmit","Form","has","target","first","any","mapStateToProps","router","articles","data","find","Number","connect","transformRequest","parms","Transformer","send","transformResponse","fetch","articleAddRequest","Promise","resolve","reject","Http","post","res","articleActions","err","response","status","resetErrors","replace","searchStr","replaceStr","resetValidationFields","patch","articleRemoveRequest","delete","console","articleListRequest","pageNumber","url","get","articleFetchRequest","payload","type","ARTICLE_ADD","update","ARTICLE_UPDATE","ARTICLE_REMOVE","list","ARTICLE_LIST"],"mappings":"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","file":"6.js","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { ContentState, convertFromHTML, convertToRaw, EditorState } from 'draft-js'\nimport { Editor } from 'react-draft-wysiwyg'\nimport draftToHtml from 'draftjs-to-html'\n\nclass WYSIWYG extends Component {\n  static propTypes = {\n    value: PropTypes.string.isRequired,\n    onChange: PropTypes.func.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      editorState: this.convertHtmlToEditorState(this.props.value),\n    }\n\n    this.onEditorStateChange = this.onEditorStateChange.bind(this)\n  }\n\n  convertHtmlToEditorState = (value) => {\n    if (value) {\n      const blocksFromHTML = convertFromHTML(value)\n      const state = ContentState.createFromBlockArray(\n        blocksFromHTML.contentBlocks,\n        blocksFromHTML.entityMap\n      )\n\n      return EditorState.createWithContent(state)\n    }\n  }\n\n  onEditorStateChange = (editorState) => {\n    this.setState({\n      editorState,\n    })\n\n    this.props.onChange(draftToHtml(convertToRaw(editorState.getCurrentContent())))\n  }\n\n  render() {\n    const {editorState} = this.state\n    return (\n      <div>\n        <Editor\n          editorState={ editorState }\n          wrapperClassName=\"demo-wrapper\"\n          editorClassName=\"form-control\"\n          onEditorStateChange={ this.onEditorStateChange }\n        />\n      </div>\n    )\n  }\n}\n\nexport default WYSIWYG\n","import moment from 'moment'\nimport Model from '../../utils/Model'\nimport User from '../user/User'\n\nclass Article extends Model {\n  constructor(props) {\n    super(props)\n\n    this.initialize(props)\n  }\n\n  initialize(props) {\n    super.initialize(props)\n\n    this.slug = props.slug || ''\n    this.title = props.title || ''\n    this.description = props.description || ''\n    this.content = props.content || ''\n    this.published = props.published || false\n    this.publishedAt = props.publishedAt ? moment(props.publishedAt) : null\n\n    // relate user model\n    this.user = props.user ? new User(props.user) : null\n  }\n}\n\nexport default Article\n","// import libs\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport _ from 'lodash'\nimport { articleEditRequest, articleUpdateRequest } from '../../service'\nimport ReeValidate from 'ree-validate'\n\n// import components\nimport Form from './components/Form'\n\nclass Page extends Component {\n  static displayName = 'EditArticle'\n  static propTypes = {\n    match: PropTypes.object.isRequired,\n    article: PropTypes.object,\n    dispatch: PropTypes.func.isRequired,\n  }\n  \n  constructor(props) {\n    super(props)\n    \n    this.validator = new ReeValidate({\n      title: 'required|min:3',\n      content: 'required|min:10',\n      description: 'required|min:10',\n    })\n    \n    const article = this.props.article.toJson()\n    \n    this.state = {\n      article,\n      errors: this.validator.errors\n    }\n    \n    this.handleSubmit = this.handleSubmit.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n  }\n\n  UNSAFE_componentWillMount() {\n    this.loadArticle()\n  }\n  \n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const article = nextProps.article.toJson()\n    \n    if (!_.isEqual(this.state.article, article)) {\n      this.setState({ article })\n    }\n    \n  }\n  \n  loadArticle() {\n    const { match, article, dispatch } = this.props\n    \n    if (!article.id) {\n      dispatch(articleEditRequest(match.params.id))\n    }\n  }\n  \n  handleChange(name, value) {\n    const { errors } = this.validator\n    \n    this.setState({ article: { ...this.state.article, [name]: value} })\n    \n    errors.remove(name)\n    \n    this.validator.validate(name, value)\n      .then(() => {\n        this.setState({ errors })\n      })\n  }\n  \n  handleSubmit(e) {\n    e.preventDefault()\n    const article = this.state.article\n    const { errors } = this.validator\n    \n    this.validator.validateAll(article)\n      .then((success) => {\n        if (success) {\n          this.submit(article)\n        } else {\n          this.setState({ errors })\n        }\n      })\n  }\n  \n  submit(article) {\n    this.props.dispatch(articleUpdateRequest(article))\n      .catch(({ error, statusCode }) => {\n        const { errors } = this.validator\n        \n        if (statusCode === 422) {\n          _.forOwn(error, (message, field) => {\n            errors.add(field, message);\n          });\n        }\n        \n        this.setState({ errors })\n      })\n  }\n  \n  renderForm() {\n    const { article } = this.props\n    \n    if (article.id) {\n      return <Form {...this.state}\n                   onChange={this.handleChange}\n                   onSubmit={this.handleSubmit} />\n    }\n  }\n  \n  render() {\n    return <main className=\"col-sm-9 ml-sm-auto col-md-10 pt-3\" role=\"main\">\n      <h1>Edit</h1>\n      { this.renderForm() }\n    </main>\n  }\n}\n\nexport default Page\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport MyEditor from '../../../../../common/wysiwyg-editor/index'\n\nconst displayName = 'ArticleFrom'\nconst propTypes = {\n  article: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n}\n\nconst Form = ({ article, errors, onChange, onSubmit }) => {\n  \n  function handleChange(name, value) {\n    if (value !== article[name]) {\n      onChange(name, value)\n    }\n  }\n  \n  return <form onSubmit={e => onSubmit(e)}>\n    <div className=\"form-group row\">\n      <label htmlFor=\"title\" className=\"col-sm-2 col-form-label\">Title</label>\n      <div className=\"col-sm-10\">\n        <input type=\"text\"\n               id=\"title\"\n               name=\"title\"\n               className={`form-control ${errors.has('title') && 'is-invalid'}`}\n               placeholder=\"Title\"\n               value={article.title || ''}\n               onChange={e => handleChange(e.target.name, e.target.value)} />\n        {errors.has('title') && <div className=\"invalid-feedback\">{errors.first('title')}</div>}\n      </div>\n    </div>\n    <div className=\"form-group row\">\n      <label htmlFor=\"description\" className=\"col-sm-2 col-form-label\">Description</label>\n      <div className=\"col-sm-10\">\n        <textarea id=\"description\"\n                  name=\"description\"\n                  className={`form-control ${errors.has('description') && 'is-invalid'}`}\n                  rows=\"3\"\n                  placeholder=\"Description\"\n                  value={article.description}\n                  onChange={e => handleChange(e.target.name, e.target.value)} />\n        {errors.has('description') && <div className=\"invalid-feedback\">{errors.first('description')}</div>}\n      </div>\n    </div>\n    <div className=\"form-group row\">\n      <label htmlFor=\"content\" className=\"col-sm-2 col-form-label\">Content</label>\n      <div className=\"col-sm-10\">\n        <MyEditor id=\"content\" value={article.content} onChange={e => handleChange('content', e)} />\n        {errors.has('content') && <div className=\"invalid-feedback\">{errors.first('content')}</div>}\n      </div>\n    </div>\n    <div className=\"form-group row\">\n      <div className=\"col-sm-10 ml-auto\">\n        <button disabled={errors.any()} type=\"submit\" className=\"btn btn-primary\">Update</button>\n      </div>\n    </div>\n  </form>\n}\n\nForm.displayName = displayName\nForm.propTypes = propTypes\n\nexport default Form\n","import { connect } from 'react-redux'\nimport Article from '../../Article'\n\n// import components\nimport Page from './Page'\n\nconst mapStateToProps = (state, router) => {\n  const { params } = router.match\n  const article = state.articles.data.find(article => article.id === Number(params.id))\n  return {\n    article: article ? new Article(article) : new Article({})\n  }\n}\n\nexport default connect(mapStateToProps)(Page)\n","import Http from '../../utils/Http'\nimport Transformer from '../../utils/Transformer'\nimport * as articleActions from './store/actions'\n\nfunction transformRequest(parms) {\n  return Transformer.send(parms)\n}\n\nfunction transformResponse(params) {\n  return Transformer.fetch(params)\n}\n\nexport function articleAddRequest(params) {\n  return dispatch => (\n    new Promise((resolve, reject) => {\n      Http.post('/articles', transformRequest(params))\n        .then(res => {\n          dispatch(articleActions.add(transformResponse(res.data)))\n          return resolve()\n        })\n        .catch((err) => {\n          const statusCode = err.response.status;\n          const data = {\n            error: null,\n            statusCode,\n          };\n\n          if (statusCode === 422) {\n            const resetErrors = {\n              errors: err.response.data,\n              replace: false,\n              searchStr: '',\n              replaceStr: '',\n            };\n            data.error = Transformer.resetValidationFields(resetErrors);\n          } else if (statusCode === 401) {\n            data.error = err.response.data.message;\n          }\n          return reject(data);\n        })\n    })\n  )\n}\n\nexport function articleUpdateRequest(params) {\n  return dispatch => (\n    new Promise((resolve, reject) => {\n      Http.patch(`articles/${params.id}`, transformRequest(params))\n        .then(res => {\n          dispatch(articleActions.add(transformResponse(res.data)))\n          return resolve()\n        })\n        .catch((err) => {\n          const statusCode = err.response.status;\n          const data = {\n            error: null,\n            statusCode,\n          };\n\n          if (statusCode === 422) {\n            const resetErrors = {\n              errors: err.response.data,\n              replace: false,\n              searchStr: '',\n              replaceStr: '',\n            };\n            data.error = Transformer.resetValidationFields(resetErrors);\n          } else if (statusCode === 401) {\n            data.error = err.response.data.message;\n          }\n          return reject(data);\n        })\n    })\n  )\n}\n\nexport function articleRemoveRequest(id) {\n  return dispatch => {\n    Http.delete(`articles/${id}`)\n      .then(() => {\n        dispatch(articleActions.remove(id))\n      })\n      .catch((err) => {\n        // TODO: handle err\n        console.error(err.response)\n      })\n  }\n}\n\nexport function articleListRequest({pageNumber = 1, url = '/articles'}) {\n  return dispatch => {\n    if (pageNumber > 1) {\n      url = url + `?page=${pageNumber}`\n    }\n\n    Http.get(url)\n      .then((res) => {\n        dispatch(articleActions.list(transformResponse(res.data)))\n      })\n      .catch((err) => {\n        // TODO: handle err\n        console.error(err.response)\n      })\n  }\n}\n\nexport function articleEditRequest(id) {\n  return dispatch => {\n    Http.get(`articles/${id}`)\n      .then((res) => {\n        dispatch(articleActions.add(transformResponse(res.data)))\n      })\n      .catch((err) => {\n        // TODO: handle err\n        console.error(err.response)\n      })\n  }\n}\n\nexport function articleFetchRequest(slug) {\n  return dispatch => {\n    Http.get(`articles/published/${slug}`)\n      .then((res) => {\n        dispatch(articleActions.add(transformResponse(res.data)))\n      })\n      .catch((err) => {\n        // TODO: handle err\n        console.error(err.response)\n      })\n  }\n}","/* ============\n * Actions for the article module\n * ============\n *\n * The actions that are available on the\n * article module.\n */\n\nimport {\n  ARTICLE_ADD,\n  ARTICLE_UPDATE,\n  ARTICLE_REMOVE,\n  ARTICLE_LIST,\n} from './action-types';\n\nexport function add(payload) {\n  return {\n    type: ARTICLE_ADD,\n    payload\n  }\n}\n\nexport function update(payload) {\n  return {\n    type: ARTICLE_UPDATE,\n    payload\n  }\n}\n\nexport function remove(payload) {\n  return {\n    type: ARTICLE_REMOVE,\n    payload\n  }\n}\n\nexport function list(payload) {\n  return {\n    type: ARTICLE_LIST,\n    payload\n  }\n}"],"sourceRoot":""}