{"version":3,"sources":["webpack:///./resources/js/modules/auth/pages/register/Page.js","webpack:///./resources/js/modules/auth/pages/register/components/Form.js","webpack:///./resources/js/modules/auth/pages/register/index.js"],"names":["Page","Component","constructor","props","validator","ReeValidate","name","email","password","passwordConfirmation","state","credentials","errors","fields","handleChange","bind","handleSubmit","componentDidMount","$","attr","componentWillUnmount","removeAttr","value","setState","remove","validate","then","e","preventDefault","validateAll","success","submit","dispatch","register","catch","error","statusCode","_","forOwn","message","field","add","render","isAuthenticated","PropTypes","bool","isRequired","func","displayName","propTypes","string","object","Form","has","target","first","any","mapStateToProps","auth","connect"],"mappings":"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","file":"10.js","sourcesContent":["//import libs\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport $ from 'jquery'\nimport _ from 'lodash'\nimport { Redirect } from 'react-router-dom'\nimport { register } from '../../service'\nimport ReeValidate from 'ree-validate'\n\n// import components\nimport Form from './components/Form'\n\n// initialize component\nclass Page extends Component {\n  static displayName = 'RegisterPage'\n  static propTypes = {\n    isAuthenticated: PropTypes.bool.isRequired,\n    dispatch: PropTypes.func.isRequired,\n  }\n  \n  constructor(props) {\n    super(props)\n    \n    this.validator = new ReeValidate({\n      name: 'required|min:6',\n      email: 'required|email',\n      password: 'required|min:6',\n      passwordConfirmation: 'required|min:6'\n    })\n    \n    this.state = {\n      credentials: {\n        name: '',\n        email: '',\n        password: '',\n        passwordConfirmation: '',\n      },\n      errors: this.validator.errors,\n      fields: this.validator.fields\n    }\n    \n    this.handleChange = this.handleChange.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n  \n  componentDidMount() {\n    $('body').attr('style', 'background-color: #eee')\n  }\n  \n  componentWillUnmount() {\n    $('body').removeAttr('style')\n  }\n  \n  // event to handle input change\n  handleChange(name, value) {\n    const { errors } = this.validator\n\n    this.setState({credentials: { ...this.state.credentials, [name]: value }})\n    errors.remove(name)\n    \n    this.validator.validate(name, value)\n      .then(() => {\n        this.setState({ errors })\n      })\n  }\n  \n  handleSubmit(e) {\n    e.preventDefault()\n    const { credentials } = this.state\n    const { errors } = this.validator\n  \n    this.validator.validateAll(credentials)\n      .then((success) => {\n        if (success) {\n          this.submit(credentials)\n        } else {\n          this.setState({ errors })\n        }\n      })\n  }\n  \n  submit(credentials) {\n    this.props.dispatch(register(credentials))\n      .catch(({ error, statusCode }) => {\n        const { errors } = this.validator\n        \n        if (statusCode === 422) {\n          _.forOwn(error, (message, field) => {\n            errors.add(field, message);\n          });\n        } else if (statusCode === 401) {\n          errors.add('password', error);\n        }\n        \n        this.setState({ errors })\n      })\n  }\n  \n  render() {\n    // check if user is authenticated then redirect him to home page\n    if (this.props.isAuthenticated) {\n      return <Redirect to=\"/\" />\n    }\n    \n    const { name, email, password, passwordConfirmation } = this.state.credentials\n    const props = {\n      name,\n      email,\n      password,\n      passwordConfirmation,\n      errors: this.state.errors,\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit,\n    }\n    \n    return (<div className=\"container py-5\">\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <div className=\"row\">\n            <div className=\"mx-auto\">\n              <span className=\"anchor\"/>\n              <div className=\"card has-shadow\">\n                <div className=\"card-body\">\n                  <Form {...props}  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>)\n  }\n}\n\nexport default Page\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\n\nconst displayName = 'RegisterFrom'\n\nconst propTypes = {\n  name: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  password: PropTypes.string.isRequired,\n  passwordConfirmation: PropTypes.string.isRequired,\n  errors: PropTypes.object.isRequired,\n  handleChange: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n}\n\nconst Form = ({ name, email, password, passwordConfirmation, errors, handleChange, handleSubmit }) => {\n  return (<form className=\"form\" role=\"form\" onSubmit={handleSubmit} noValidate>\n    <h2 className=\"card-title\">Sign up</h2>\n    <div className=\"form-group\">\n      <label htmlFor=\"name\" className=\"sr-only\">Email</label>\n      <input type=\"text\"\n             className={`form-control form-control-lg rounded-0 ${errors.has('name') && 'is-invalid'}`}\n             name=\"name\"\n             id=\"name\"\n             placeholder=\"Full Name\"\n             value={name || ''}\n             onChange={e => handleChange(e.target.name, e.target.value)}\n             required\n             autoFocus/>\n      {errors.has('name') && <div className=\"invalid-feedback\">{errors.first('name')}</div>}\n    </div>\n    <div className=\"form-group\">\n      <label htmlFor=\"email\" className=\"sr-only\">Email</label>\n      <input type=\"email\"\n             className={`form-control form-control-lg rounded-0 ${errors.has('email') && 'is-invalid'}`}\n             name=\"email\"\n             id=\"email\"\n             placeholder=\"Email address\"\n             value={email || ''}\n             onChange={e => handleChange(e.target.name, e.target.value)}\n             required\n             autoFocus/>\n      {errors.has('email') && <div className=\"invalid-feedback\">{errors.first('email')}</div>}\n    </div>\n    <div className=\"form-group\">\n      <label htmlFor=\"password\" className=\"sr-only\">Password</label>\n      <input type=\"password\"\n             className={`form-control form-control-lg rounded-0 ${errors.has('password') && 'is-invalid'}`}\n             id=\"password\"\n             name=\"password\"\n             placeholder=\"Password\"\n             value={password || ''}\n             onChange={e => handleChange(e.target.name, e.target.value)}\n             required/>\n      {errors.has('password') && <div className=\"invalid-feedback\">{errors.first('password')}</div>}\n    </div>\n    <div className=\"form-group\">\n      <label htmlFor=\"passwordConfirmation\" className=\"sr-only\">Confirm Password</label>\n      <input type=\"password\"\n             className={`form-control form-control-lg rounded-0 ${errors.has('passwordConfirmation') && 'is-invalid'}`}\n             id=\"passwordConfirmation\"\n             name=\"passwordConfirmation\"\n             placeholder=\"Confirm Password\"\n             value={passwordConfirmation || ''}\n             onChange={e => handleChange(e.target.name, e.target.value)}\n             required/>\n      {errors.has('passwordConfirmation') && <div className=\"invalid-feedback\">{errors.first('passwordConfirmation')}</div>}\n    </div>\n    <button className=\"btn btn-lg btn-primary btn-block\"\n            type=\"submit\"\n            disabled={errors.any()}>Sign Up</button>\n    <p>Back to<Link to=\"/login\" className=\"btn btn-link\">Login</Link></p>\n  </form>)\n}\n\nForm.displayName = displayName\nForm.propTypes = propTypes\n\nexport default Form\n","// import libs\nimport { connect } from 'react-redux'\n\n// import components\nimport Page from './Page'\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.auth.isAuthenticated,\n  }\n}\n\nexport default connect(mapStateToProps)(Page)\n"],"sourceRoot":""}