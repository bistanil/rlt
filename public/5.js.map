{"version":3,"sources":["webpack:///./resources/js/common/wysiwyg-editor/index.js","webpack:///./resources/js/modules/article/Article.js","webpack:///./resources/js/modules/article/pages/add/Page.js","webpack:///./resources/js/modules/article/pages/add/components/Form.js","webpack:///./resources/js/modules/article/pages/add/index.js","webpack:///./resources/js/modules/article/service.js","webpack:///./resources/js/modules/article/store/actions.js"],"names":["WYSIWYG","Component","constructor","props","value","blocksFromHTML","convertFromHTML","state","ContentState","createFromBlockArray","contentBlocks","entityMap","EditorState","createWithContent","editorState","setState","onChange","draftToHtml","convertToRaw","getCurrentContent","convertHtmlToEditorState","onEditorStateChange","bind","render","PropTypes","string","isRequired","func","Article","Model","initialize","slug","title","description","content","published","publishedAt","moment","user","User","Page","validator","ReeValidate","article","toJson","errors","handleSubmit","handleChange","UNSAFE_componentWillReceiveProps","nextProps","_","isEqual","name","remove","validate","then","e","preventDefault","validateAll","success","submit","dispatch","articleAddRequest","catch","error","statusCode","forOwn","message","field","add","object","displayName","propTypes","onSubmit","Form","has","target","first","any","mapStateToProps","connect","transformRequest","parms","Transformer","send","transformResponse","params","fetch","Promise","resolve","reject","Http","post","res","articleActions","data","err","response","status","resetErrors","replace","searchStr","replaceStr","resetValidationFields","articleUpdateRequest","patch","id","articleRemoveRequest","delete","console","articleListRequest","pageNumber","url","get","articleEditRequest","articleFetchRequest","payload","type","ARTICLE_ADD","update","ARTICLE_UPDATE","ARTICLE_REMOVE","list","ARTICLE_LIST"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;AAEA,MAAMA,OAAN,SAAsBC,+CAAtB,CAAgC;AAM9BC,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,sDAUSC,KAAD,IAAW;AACpC,UAAIA,KAAJ,EAAW;AACT,cAAMC,cAAc,GAAGC,gEAAe,CAACF,KAAD,CAAtC;AACA,cAAMG,KAAK,GAAGC,qDAAY,CAACC,oBAAb,CACZJ,cAAc,CAACK,aADH,EAEZL,cAAc,CAACM,SAFH,CAAd;AAKA,eAAOC,oDAAW,CAACC,iBAAZ,CAA8BN,KAA9B,CAAP;AACD;AACF,KApBkB;;AAAA,iDAsBIO,WAAD,IAAiB;AACrC,WAAKC,QAAL,CAAc;AACZD;AADY,OAAd;AAIA,WAAKX,KAAL,CAAWa,QAAX,CAAoBC,sDAAW,CAACC,6DAAY,CAACJ,WAAW,CAACK,iBAAZ,EAAD,CAAb,CAA/B;AACD,KA5BkB;;AAGjB,SAAKZ,KAAL,GAAa;AACXO,iBAAW,EAAE,KAAKM,wBAAL,CAA8B,KAAKjB,KAAL,CAAWC,KAAzC;AADF,KAAb;AAIA,SAAKiB,mBAAL,GAA2B,KAAKA,mBAAL,CAAyBC,IAAzB,CAA8B,IAA9B,CAA3B;AACD;;AAsBDC,QAAM,GAAG;AAAA,UACAT,WADA,GACe,KAAKP,KADpB,CACAO,WADA;AAEP,WACE,wEACE,2DAAC,0DAAD;AACE,iBAAW,EAAGA,WADhB;AAEE,sBAAgB,EAAC,cAFnB;AAGE,qBAAe,EAAC,cAHlB;AAIE,yBAAmB,EAAG,KAAKO;AAJ7B,MADF,CADF;AAUD;;AAhD6B;;gBAA1BrB,O,eACe;AACjBI,OAAK,EAAEoB,iDAAS,CAACC,MAAV,CAAiBC,UADP;AAEjBV,UAAQ,EAAEQ,iDAAS,CAACG,IAAV,CAAeD;AAFR,C;;AAkDN1B,sEAAf,E;;;;;;;;;;;;ACzDA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA,MAAM4B,OAAN,SAAsBC,oDAAtB,CAA4B;AAC1B3B,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAK2B,UAAL,CAAgB3B,KAAhB;AACD;;AAED2B,YAAU,CAAC3B,KAAD,EAAQ;AAChB,UAAM2B,UAAN,CAAiB3B,KAAjB;AAEA,SAAK4B,IAAL,GAAY5B,KAAK,CAAC4B,IAAN,IAAc,EAA1B;AACA,SAAKC,KAAL,GAAa7B,KAAK,CAAC6B,KAAN,IAAe,EAA5B;AACA,SAAKC,WAAL,GAAmB9B,KAAK,CAAC8B,WAAN,IAAqB,EAAxC;AACA,SAAKC,OAAL,GAAe/B,KAAK,CAAC+B,OAAN,IAAiB,EAAhC;AACA,SAAKC,SAAL,GAAiBhC,KAAK,CAACgC,SAAN,IAAmB,KAApC;AACA,SAAKC,WAAL,GAAmBjC,KAAK,CAACiC,WAAN,GAAoBC,6CAAM,CAAClC,KAAK,CAACiC,WAAP,CAA1B,GAAgD,IAAnE,CARgB,CAUhB;;AACA,SAAKE,IAAL,GAAYnC,KAAK,CAACmC,IAAN,GAAa,IAAIC,kDAAJ,CAASpC,KAAK,CAACmC,IAAf,CAAb,GAAoC,IAAhD;AACD;;AAnByB;;AAsBbV,sEAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;CAGA;;AACA;;AAEA,MAAMY,IAAN,SAAmBvC,+CAAnB,CAA6B;AAO3BC,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKsC,SAAL,GAAiB,IAAIC,oDAAJ,CAAgB;AAC/BV,WAAK,EAAE,gBADwB;AAE/BE,aAAO,EAAE,iBAFsB;AAG/BD,iBAAW,EAAE;AAHkB,KAAhB,CAAjB;AAMA,UAAMU,OAAO,GAAG,KAAKxC,KAAL,CAAWwC,OAAX,CAAmBC,MAAnB,EAAhB;AAEA,SAAKrC,KAAL,GAAa;AACXoC,aADW;AAEXE,YAAM,EAAE,KAAKJ,SAAL,CAAeI;AAFZ,KAAb;AAKA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBxB,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKyB,YAAL,GAAoB,KAAKA,YAAL,CAAkBzB,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AAED0B,kCAAgC,CAACC,SAAD,EAAY;AAC1C,UAAMN,OAAO,GAAGM,SAAS,CAACN,OAAV,CAAkBC,MAAlB,EAAhB;;AAEA,QAAI,CAACM,6CAAC,CAACC,OAAF,CAAU,KAAK5C,KAAL,CAAWoC,OAArB,EAA8BA,OAA9B,CAAL,EAA6C;AAC3C,WAAK5B,QAAL,CAAc;AAAE4B;AAAF,OAAd;AACD;AAEF;;AAEDI,cAAY,CAACK,IAAD,EAAOhD,KAAP,EAAc;AAAA,UAChByC,MADgB,GACL,KAAKJ,SADA,CAChBI,MADgB;AAGxB,SAAK9B,QAAL,CAAc;AAAE4B,aAAO,oBAAO,KAAKpC,KAAL,CAAWoC,OAAlB;AAA2B,SAACS,IAAD,GAAQhD;AAAnC;AAAT,KAAd;AAEAyC,UAAM,CAACQ,MAAP,CAAcD,IAAd;AAEA,SAAKX,SAAL,CAAea,QAAf,CAAwBF,IAAxB,EAA8BhD,KAA9B,EACGmD,IADH,CACQ,MAAM;AACV,WAAKxC,QAAL,CAAc;AAAE8B;AAAF,OAAd;AACD,KAHH;AAID;;AAEDC,cAAY,CAACU,CAAD,EAAI;AACdA,KAAC,CAACC,cAAF;AACA,UAAMd,OAAO,GAAG,KAAKpC,KAAL,CAAWoC,OAA3B;AAFc,UAGNE,MAHM,GAGK,KAAKJ,SAHV,CAGNI,MAHM;AAKd,SAAKJ,SAAL,CAAeiB,WAAf,CAA2Bf,OAA3B,EACGY,IADH,CACSI,OAAD,IAAa;AACjB,UAAIA,OAAJ,EAAa;AACX,aAAKC,MAAL,CAAYjB,OAAZ;AACD,OAFD,MAEO;AACL,aAAK5B,QAAL,CAAc;AAAE8B;AAAF,SAAd;AACD;AACF,KAPH;AAQD;;AAEDe,QAAM,CAACjB,OAAD,EAAU;AACd,SAAKxC,KAAL,CAAW0D,QAAX,CAAoBC,kEAAiB,CAACnB,OAAD,CAArC,EACGoB,KADH,CACS,CAAC;AAAEC,WAAF;AAASC;AAAT,KAAD,KAA2B;AAAA,YACxBpB,MADwB,GACb,KAAKJ,SADQ,CACxBI,MADwB;;AAGhC,UAAIoB,UAAU,KAAK,GAAnB,EAAwB;AACtBf,qDAAC,CAACgB,MAAF,CAASF,KAAT,EAAgB,CAACG,OAAD,EAAUC,KAAV,KAAoB;AAClCvB,gBAAM,CAACwB,GAAP,CAAWD,KAAX,EAAkBD,OAAlB;AACD,SAFD;AAGD;;AAED,WAAKpD,QAAL,CAAc;AAAE8B;AAAF,OAAd;AACD,KAXH;AAYD;;AAEDtB,QAAM,GAAG;AACP,WAAO;AAAK,eAAS,EAAC;AAAf,OACL,gFADK,EAEL,2DAAC,wDAAD,eAAU,KAAKhB,KAAf;AACM,cAAQ,EAAE,KAAKwC,YADrB;AAEM,cAAQ,EAAE,KAAKD;AAFrB,OAFK,CAAP;AAMD;;AAtF0B;;gBAAvBN,I,iBACiB,Y;;gBADjBA,I,eAEe;AACjBG,SAAO,EAAEnB,iDAAS,CAAC8C,MAAV,CAAiB5C,UADT;AAEjBmC,UAAQ,EAAErC,iDAAS,CAACG,IAAV,CAAeD;AAFR,C;;AAuFNc,mEAAf,E;;;;;;;;;;;;ACnGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA,MAAM+B,WAAW,GAAG,aAApB;AACA,MAAMC,SAAS,GAAG;AAChB7B,SAAO,EAAEnB,iDAAS,CAAC8C,MAAV,CAAiB5C,UADV;AAEhBmB,QAAM,EAAErB,iDAAS,CAAC8C,MAAV,CAAiB5C,UAFT;AAGhBV,UAAQ,EAAEQ,iDAAS,CAACG,IAAV,CAAeD,UAHT;AAIhB+C,UAAQ,EAAEjD,iDAAS,CAACG,IAAV,CAAeD;AAJT,CAAlB;;AAOA,MAAMgD,IAAI,GAAG,CAAC;AAAE/B,SAAF;AAAWE,QAAX;AAAmB7B,UAAnB;AAA6ByD,UAAQ,EAARA;AAA7B,CAAD,KAA6C;AAExD,WAAS1B,YAAT,CAAsBK,IAAtB,EAA4BhD,KAA5B,EAAmC;AACjC,QAAIA,KAAK,KAAKuC,OAAO,CAACS,IAAD,CAArB,EAA6B;AAC3BpC,cAAQ,CAACoC,IAAD,EAAOhD,KAAP,CAAR;AACD;AACF;;AAED,SAAO;AAAM,YAAQ,EAAEoD,CAAC,IAAIiB,SAAQ,CAACjB,CAAD;AAA7B,KACL;AAAK,aAAS,EAAC;AAAf,KACE;AAAO,WAAO,EAAC,OAAf;AAAuB,aAAS,EAAC;AAAjC,aADF,EAEE;AAAK,aAAS,EAAC;AAAf,KACE;AAAO,QAAI,EAAC,MAAZ;AACO,MAAE,EAAC,OADV;AAEO,QAAI,EAAC,OAFZ;AAGO,aAAS,yBAAkBX,MAAM,CAAC8B,GAAP,CAAW,OAAX,KAAuB,YAAzC,CAHhB;AAIO,eAAW,EAAC,OAJnB;AAKO,SAAK,EAAEhC,OAAO,CAACX,KAAR,IAAiB,EAL/B;AAMO,YAAQ,EAAEwB,CAAC,IAAIT,YAAY,CAACS,CAAC,CAACoB,MAAF,CAASxB,IAAV,EAAgBI,CAAC,CAACoB,MAAF,CAASxE,KAAzB;AANlC,IADF,EAQGyC,MAAM,CAAC8B,GAAP,CAAW,OAAX,KAAuB;AAAK,aAAS,EAAC;AAAf,KAAmC9B,MAAM,CAACgC,KAAP,CAAa,OAAb,CAAnC,CAR1B,CAFF,CADK,EAcL;AAAK,aAAS,EAAC;AAAf,KACE;AAAO,WAAO,EAAC,aAAf;AAA6B,aAAS,EAAC;AAAvC,mBADF,EAEE;AAAK,aAAS,EAAC;AAAf,KACE;AAAU,MAAE,EAAC,aAAb;AACU,QAAI,EAAC,aADf;AAEU,aAAS,yBAAkBhC,MAAM,CAAC8B,GAAP,CAAW,aAAX,KAA6B,YAA/C,CAFnB;AAGU,QAAI,EAAC,GAHf;AAIU,eAAW,EAAC,aAJtB;AAKU,SAAK,EAAEhC,OAAO,CAACV,WALzB;AAMU,YAAQ,EAAEuB,CAAC,IAAIT,YAAY,CAACS,CAAC,CAACoB,MAAF,CAASxB,IAAV,EAAgBI,CAAC,CAACoB,MAAF,CAASxE,KAAzB;AANrC,IADF,EAQGyC,MAAM,CAAC8B,GAAP,CAAW,aAAX,KAA6B;AAAK,aAAS,EAAC;AAAf,KAAmC9B,MAAM,CAACgC,KAAP,CAAa,aAAb,CAAnC,CARhC,CAFF,CAdK,EA2BL;AAAK,aAAS,EAAC;AAAf,KACE;AAAO,WAAO,EAAC,SAAf;AAAyB,aAAS,EAAC;AAAnC,eADF,EAEE;AAAK,aAAS,EAAC;AAAf,KACE,2DAAC,oEAAD;AAAU,MAAE,EAAC,SAAb;AAAuB,SAAK,EAAElC,OAAO,CAACT,OAAtC;AAA+C,YAAQ,EAAEsB,CAAC,IAAIT,YAAY,CAAC,SAAD,EAAYS,CAAZ;AAA1E,IADF,EAEGX,MAAM,CAAC8B,GAAP,CAAW,SAAX,KAAyB;AAAK,aAAS,EAAC;AAAf,KAAmC9B,MAAM,CAACgC,KAAP,CAAa,SAAb,CAAnC,CAF5B,CAFF,CA3BK,EAkCL;AAAK,aAAS,EAAC;AAAf,KACE;AAAK,aAAS,EAAC;AAAf,KACE;AAAQ,YAAQ,EAAEhC,MAAM,CAACiC,GAAP,EAAlB;AAAgC,QAAI,EAAC,QAArC;AAA8C,aAAS,EAAC;AAAxD,cADF,CADF,CAlCK,CAAP;AAwCD,CAhDD;;AAkDAJ,IAAI,CAACH,WAAL,GAAmBA,WAAnB;AACAG,IAAI,CAACF,SAAL,GAAiBA,SAAjB;AAEeE,mEAAf,E;;;;;;;;;;;;ACjEA;AAAA;AAAA;AAAA;AAAA;CAGA;;AACA;;AAEA,MAAMK,eAAe,GAAG,MAAM;AAC5B,QAAMpC,OAAO,GAAG,IAAIf,gDAAJ,CAAY,EAAZ,CAAhB;AACA,SAAO;AACLe;AADK,GAAP;AAGD,CALD;;AAOeqC,0HAAO,CAACD,eAAD,CAAP,CAAyBvC,6CAAzB,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA,SAASyC,gBAAT,CAA0BC,KAA1B,EAAiC;AAC/B,SAAOC,0DAAW,CAACC,IAAZ,CAAiBF,KAAjB,CAAP;AACD;;AAED,SAASG,iBAAT,CAA2BC,MAA3B,EAAmC;AACjC,SAAOH,0DAAW,CAACI,KAAZ,CAAkBD,MAAlB,CAAP;AACD;;AAEM,SAASxB,iBAAT,CAA2BwB,MAA3B,EAAmC;AACxC,SAAOzB,QAAQ,IACb,IAAI2B,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/BC,uDAAI,CAACC,IAAL,CAAU,WAAV,EAAuBX,gBAAgB,CAACK,MAAD,CAAvC,EACG/B,IADH,CACQsC,GAAG,IAAI;AACXhC,cAAQ,CAACiC,kDAAA,CAAmBT,iBAAiB,CAACQ,GAAG,CAACE,IAAL,CAApC,CAAD,CAAR;AACA,aAAON,OAAO,EAAd;AACD,KAJH,EAKG1B,KALH,CAKUiC,GAAD,IAAS;AACd,YAAM/B,UAAU,GAAG+B,GAAG,CAACC,QAAJ,CAAaC,MAAhC;AACA,YAAMH,IAAI,GAAG;AACX/B,aAAK,EAAE,IADI;AAEXC;AAFW,OAAb;;AAKA,UAAIA,UAAU,KAAK,GAAnB,EAAwB;AACtB,cAAMkC,WAAW,GAAG;AAClBtD,gBAAM,EAAEmD,GAAG,CAACC,QAAJ,CAAaF,IADH;AAElBK,iBAAO,EAAE,KAFS;AAGlBC,mBAAS,EAAE,EAHO;AAIlBC,oBAAU,EAAE;AAJM,SAApB;AAMAP,YAAI,CAAC/B,KAAL,GAAamB,0DAAW,CAACoB,qBAAZ,CAAkCJ,WAAlC,CAAb;AACD,OARD,MAQO,IAAIlC,UAAU,KAAK,GAAnB,EAAwB;AAC7B8B,YAAI,CAAC/B,KAAL,GAAagC,GAAG,CAACC,QAAJ,CAAaF,IAAb,CAAkB5B,OAA/B;AACD;;AACD,aAAOuB,MAAM,CAACK,IAAD,CAAb;AACD,KAxBH;AAyBD,GA1BD,CADF;AA6BD;AAEM,SAASS,oBAAT,CAA8BlB,MAA9B,EAAsC;AAC3C,SAAOzB,QAAQ,IACb,IAAI2B,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/BC,uDAAI,CAACc,KAAL,oBAAuBnB,MAAM,CAACoB,EAA9B,GAAoCzB,gBAAgB,CAACK,MAAD,CAApD,EACG/B,IADH,CACQsC,GAAG,IAAI;AACXhC,cAAQ,CAACiC,kDAAA,CAAmBT,iBAAiB,CAACQ,GAAG,CAACE,IAAL,CAApC,CAAD,CAAR;AACA,aAAON,OAAO,EAAd;AACD,KAJH,EAKG1B,KALH,CAKUiC,GAAD,IAAS;AACd,YAAM/B,UAAU,GAAG+B,GAAG,CAACC,QAAJ,CAAaC,MAAhC;AACA,YAAMH,IAAI,GAAG;AACX/B,aAAK,EAAE,IADI;AAEXC;AAFW,OAAb;;AAKA,UAAIA,UAAU,KAAK,GAAnB,EAAwB;AACtB,cAAMkC,WAAW,GAAG;AAClBtD,gBAAM,EAAEmD,GAAG,CAACC,QAAJ,CAAaF,IADH;AAElBK,iBAAO,EAAE,KAFS;AAGlBC,mBAAS,EAAE,EAHO;AAIlBC,oBAAU,EAAE;AAJM,SAApB;AAMAP,YAAI,CAAC/B,KAAL,GAAamB,0DAAW,CAACoB,qBAAZ,CAAkCJ,WAAlC,CAAb;AACD,OARD,MAQO,IAAIlC,UAAU,KAAK,GAAnB,EAAwB;AAC7B8B,YAAI,CAAC/B,KAAL,GAAagC,GAAG,CAACC,QAAJ,CAAaF,IAAb,CAAkB5B,OAA/B;AACD;;AACD,aAAOuB,MAAM,CAACK,IAAD,CAAb;AACD,KAxBH;AAyBD,GA1BD,CADF;AA6BD;AAEM,SAASY,oBAAT,CAA8BD,EAA9B,EAAkC;AACvC,SAAO7C,QAAQ,IAAI;AACjB8B,uDAAI,CAACiB,MAAL,oBAAwBF,EAAxB,GACGnD,IADH,CACQ,MAAM;AACVM,cAAQ,CAACiC,qDAAA,CAAsBY,EAAtB,CAAD,CAAR;AACD,KAHH,EAIG3C,KAJH,CAIUiC,GAAD,IAAS;AACd;AACAa,aAAO,CAAC7C,KAAR,CAAcgC,GAAG,CAACC,QAAlB;AACD,KAPH;AAQD,GATD;AAUD;AAEM,SAASa,kBAAT,CAA4B;AAACC,YAAU,GAAG,CAAd;AAAiBC,KAAG,GAAG;AAAvB,CAA5B,EAAiE;AACtE,SAAOnD,QAAQ,IAAI;AACjB,QAAIkD,UAAU,GAAG,CAAjB,EAAoB;AAClBC,SAAG,GAAGA,GAAG,mBAAYD,UAAZ,CAAT;AACD;;AAEDpB,uDAAI,CAACsB,GAAL,CAASD,GAAT,EACGzD,IADH,CACSsC,GAAD,IAAS;AACbhC,cAAQ,CAACiC,mDAAA,CAAoBT,iBAAiB,CAACQ,GAAG,CAACE,IAAL,CAArC,CAAD,CAAR;AACD,KAHH,EAIGhC,KAJH,CAIUiC,GAAD,IAAS;AACd;AACAa,aAAO,CAAC7C,KAAR,CAAcgC,GAAG,CAACC,QAAlB;AACD,KAPH;AAQD,GAbD;AAcD;AAEM,SAASiB,kBAAT,CAA4BR,EAA5B,EAAgC;AACrC,SAAO7C,QAAQ,IAAI;AACjB8B,uDAAI,CAACsB,GAAL,oBAAqBP,EAArB,GACGnD,IADH,CACSsC,GAAD,IAAS;AACbhC,cAAQ,CAACiC,kDAAA,CAAmBT,iBAAiB,CAACQ,GAAG,CAACE,IAAL,CAApC,CAAD,CAAR;AACD,KAHH,EAIGhC,KAJH,CAIUiC,GAAD,IAAS;AACd;AACAa,aAAO,CAAC7C,KAAR,CAAcgC,GAAG,CAACC,QAAlB;AACD,KAPH;AAQD,GATD;AAUD;AAEM,SAASkB,mBAAT,CAA6BpF,IAA7B,EAAmC;AACxC,SAAO8B,QAAQ,IAAI;AACjB8B,uDAAI,CAACsB,GAAL,8BAA+BlF,IAA/B,GACGwB,IADH,CACSsC,GAAD,IAAS;AACbhC,cAAQ,CAACiC,kDAAA,CAAmBT,iBAAiB,CAACQ,GAAG,CAACE,IAAL,CAApC,CAAD,CAAR;AACD,KAHH,EAIGhC,KAJH,CAIUiC,GAAD,IAAS;AACd;AACAa,aAAO,CAAC7C,KAAR,CAAcgC,GAAG,CAACC,QAAlB;AACD,KAPH;AAQD,GATD;AAUD,C;;;;;;;;;;;;AClID;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;AAQA;AAOO,SAAS5B,GAAT,CAAa+C,OAAb,EAAsB;AAC3B,SAAO;AACLC,QAAI,EAAEC,yDADD;AAELF;AAFK,GAAP;AAID;AAEM,SAASG,MAAT,CAAgBH,OAAhB,EAAyB;AAC9B,SAAO;AACLC,QAAI,EAAEG,4DADD;AAELJ;AAFK,GAAP;AAID;AAEM,SAAS/D,MAAT,CAAgB+D,OAAhB,EAAyB;AAC9B,SAAO;AACLC,QAAI,EAAEI,4DADD;AAELL;AAFK,GAAP;AAID;AAEM,SAASM,IAAT,CAAcN,OAAd,EAAuB;AAC5B,SAAO;AACLC,QAAI,EAAEM,0DADD;AAELP;AAFK,GAAP;AAID,C","file":"5.js","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { ContentState, convertFromHTML, convertToRaw, EditorState } from 'draft-js'\nimport { Editor } from 'react-draft-wysiwyg'\nimport draftToHtml from 'draftjs-to-html'\n\nclass WYSIWYG extends Component {\n  static propTypes = {\n    value: PropTypes.string.isRequired,\n    onChange: PropTypes.func.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      editorState: this.convertHtmlToEditorState(this.props.value),\n    }\n\n    this.onEditorStateChange = this.onEditorStateChange.bind(this)\n  }\n\n  convertHtmlToEditorState = (value) => {\n    if (value) {\n      const blocksFromHTML = convertFromHTML(value)\n      const state = ContentState.createFromBlockArray(\n        blocksFromHTML.contentBlocks,\n        blocksFromHTML.entityMap\n      )\n\n      return EditorState.createWithContent(state)\n    }\n  }\n\n  onEditorStateChange = (editorState) => {\n    this.setState({\n      editorState,\n    })\n\n    this.props.onChange(draftToHtml(convertToRaw(editorState.getCurrentContent())))\n  }\n\n  render() {\n    const {editorState} = this.state\n    return (\n      <div>\n        <Editor\n          editorState={ editorState }\n          wrapperClassName=\"demo-wrapper\"\n          editorClassName=\"form-control\"\n          onEditorStateChange={ this.onEditorStateChange }\n        />\n      </div>\n    )\n  }\n}\n\nexport default WYSIWYG\n","import moment from 'moment'\nimport Model from '../../utils/Model'\nimport User from '../user/User'\n\nclass Article extends Model {\n  constructor(props) {\n    super(props)\n\n    this.initialize(props)\n  }\n\n  initialize(props) {\n    super.initialize(props)\n\n    this.slug = props.slug || ''\n    this.title = props.title || ''\n    this.description = props.description || ''\n    this.content = props.content || ''\n    this.published = props.published || false\n    this.publishedAt = props.publishedAt ? moment(props.publishedAt) : null\n\n    // relate user model\n    this.user = props.user ? new User(props.user) : null\n  }\n}\n\nexport default Article\n","// import libs\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport _ from 'lodash'\nimport { articleAddRequest } from '../../service'\nimport ReeValidate from 'ree-validate'\n\n// import components\nimport Form from './components/Form'\n\nclass Page extends Component {\n  static displayName = 'AddArticle'\n  static propTypes = {\n    article: PropTypes.object.isRequired,\n    dispatch: PropTypes.func.isRequired,\n  }\n  \n  constructor(props) {\n    super(props)\n    \n    this.validator = new ReeValidate({\n      title: 'required|min:3',\n      content: 'required|min:10',\n      description: 'required|min:10',\n    })\n    \n    const article = this.props.article.toJson()\n    \n    this.state = {\n      article,\n      errors: this.validator.errors\n    }\n    \n    this.handleSubmit = this.handleSubmit.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n  }\n  \n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const article = nextProps.article.toJson()\n    \n    if (!_.isEqual(this.state.article, article)) {\n      this.setState({ article })\n    }\n    \n  }\n  \n  handleChange(name, value) {\n    const { errors } = this.validator\n  \n    this.setState({ article: { ...this.state.article, [name]: value} })\n  \n    errors.remove(name)\n  \n    this.validator.validate(name, value)\n      .then(() => {\n        this.setState({ errors })\n      })\n  }\n  \n  handleSubmit(e) {\n    e.preventDefault()\n    const article = this.state.article\n    const { errors } = this.validator\n    \n    this.validator.validateAll(article)\n      .then((success) => {\n        if (success) {\n          this.submit(article)\n        } else {\n          this.setState({ errors })\n        }\n      })\n  }\n  \n  submit(article) {\n    this.props.dispatch(articleAddRequest(article))\n      .catch(({ error, statusCode }) => {\n        const { errors } = this.validator\n  \n        if (statusCode === 422) {\n          _.forOwn(error, (message, field) => {\n            errors.add(field, message);\n          });\n        }\n  \n        this.setState({ errors })\n      })\n  }\n  \n  render() {\n    return <div className=\"col-sm-9 ml-sm-auto col-md-10 pt-3\">\n      <h1>Create</h1>\n      <Form {...this.state}\n            onChange={this.handleChange}\n            onSubmit={this.handleSubmit} />\n    </div>\n  }\n}\n\nexport default Page\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport MyEditor from '../../../../../common/wysiwyg-editor/index'\n\nconst displayName = 'ArticleFrom'\nconst propTypes = {\n  article: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n}\n\nconst Form = ({ article, errors, onChange, onSubmit }) => {\n  \n  function handleChange(name, value) {\n    if (value !== article[name]) {\n      onChange(name, value)\n    }\n  }\n  \n  return <form onSubmit={e => onSubmit(e)}>\n    <div className=\"form-group row\">\n      <label htmlFor=\"title\" className=\"col-sm-2 col-form-label\">Title</label>\n      <div className=\"col-sm-10\">\n        <input type=\"text\"\n               id=\"title\"\n               name=\"title\"\n               className={`form-control ${errors.has('title') && 'is-invalid'}`}\n               placeholder=\"Title\"\n               value={article.title || ''}\n               onChange={e => handleChange(e.target.name, e.target.value)} />\n        {errors.has('title') && <div className=\"invalid-feedback\">{errors.first('title')}</div>}\n      </div>\n    </div>\n    <div className=\"form-group row\">\n      <label htmlFor=\"description\" className=\"col-sm-2 col-form-label\">Description</label>\n      <div className=\"col-sm-10\">\n        <textarea id=\"description\"\n                  name=\"description\"\n                  className={`form-control ${errors.has('description') && 'is-invalid'}`}\n                  rows=\"3\"\n                  placeholder=\"Description\"\n                  value={article.description}\n                  onChange={e => handleChange(e.target.name, e.target.value)} />\n        {errors.has('description') && <div className=\"invalid-feedback\">{errors.first('description')}</div>}\n      </div>\n    </div>\n    <div className=\"form-group row\">\n      <label htmlFor=\"content\" className=\"col-sm-2 col-form-label\">Content</label>\n      <div className=\"col-sm-10\">\n        <MyEditor id=\"content\" value={article.content} onChange={e => handleChange('content', e)} />\n        {errors.has('content') && <div className=\"invalid-feedback\">{errors.first('content')}</div>}\n      </div>\n    </div>\n    <div className=\"form-group row\">\n      <div className=\"col-sm-10 ml-auto\">\n        <button disabled={errors.any()} type=\"submit\" className=\"btn btn-primary\">Update</button>\n      </div>\n    </div>\n  </form>\n}\n\nForm.displayName = displayName\nForm.propTypes = propTypes\n\nexport default Form\n","import { connect } from 'react-redux'\nimport Article from '../../Article'\n\n// import components\nimport Page from './Page'\n\nconst mapStateToProps = () => {\n  const article = new Article({})\n  return {\n    article\n  }\n}\n\nexport default connect(mapStateToProps)(Page)\n","import Http from '../../utils/Http'\nimport Transformer from '../../utils/Transformer'\nimport * as articleActions from './store/actions'\n\nfunction transformRequest(parms) {\n  return Transformer.send(parms)\n}\n\nfunction transformResponse(params) {\n  return Transformer.fetch(params)\n}\n\nexport function articleAddRequest(params) {\n  return dispatch => (\n    new Promise((resolve, reject) => {\n      Http.post('/articles', transformRequest(params))\n        .then(res => {\n          dispatch(articleActions.add(transformResponse(res.data)))\n          return resolve()\n        })\n        .catch((err) => {\n          const statusCode = err.response.status;\n          const data = {\n            error: null,\n            statusCode,\n          };\n\n          if (statusCode === 422) {\n            const resetErrors = {\n              errors: err.response.data,\n              replace: false,\n              searchStr: '',\n              replaceStr: '',\n            };\n            data.error = Transformer.resetValidationFields(resetErrors);\n          } else if (statusCode === 401) {\n            data.error = err.response.data.message;\n          }\n          return reject(data);\n        })\n    })\n  )\n}\n\nexport function articleUpdateRequest(params) {\n  return dispatch => (\n    new Promise((resolve, reject) => {\n      Http.patch(`articles/${params.id}`, transformRequest(params))\n        .then(res => {\n          dispatch(articleActions.add(transformResponse(res.data)))\n          return resolve()\n        })\n        .catch((err) => {\n          const statusCode = err.response.status;\n          const data = {\n            error: null,\n            statusCode,\n          };\n\n          if (statusCode === 422) {\n            const resetErrors = {\n              errors: err.response.data,\n              replace: false,\n              searchStr: '',\n              replaceStr: '',\n            };\n            data.error = Transformer.resetValidationFields(resetErrors);\n          } else if (statusCode === 401) {\n            data.error = err.response.data.message;\n          }\n          return reject(data);\n        })\n    })\n  )\n}\n\nexport function articleRemoveRequest(id) {\n  return dispatch => {\n    Http.delete(`articles/${id}`)\n      .then(() => {\n        dispatch(articleActions.remove(id))\n      })\n      .catch((err) => {\n        // TODO: handle err\n        console.error(err.response)\n      })\n  }\n}\n\nexport function articleListRequest({pageNumber = 1, url = '/articles'}) {\n  return dispatch => {\n    if (pageNumber > 1) {\n      url = url + `?page=${pageNumber}`\n    }\n\n    Http.get(url)\n      .then((res) => {\n        dispatch(articleActions.list(transformResponse(res.data)))\n      })\n      .catch((err) => {\n        // TODO: handle err\n        console.error(err.response)\n      })\n  }\n}\n\nexport function articleEditRequest(id) {\n  return dispatch => {\n    Http.get(`articles/${id}`)\n      .then((res) => {\n        dispatch(articleActions.add(transformResponse(res.data)))\n      })\n      .catch((err) => {\n        // TODO: handle err\n        console.error(err.response)\n      })\n  }\n}\n\nexport function articleFetchRequest(slug) {\n  return dispatch => {\n    Http.get(`articles/published/${slug}`)\n      .then((res) => {\n        dispatch(articleActions.add(transformResponse(res.data)))\n      })\n      .catch((err) => {\n        // TODO: handle err\n        console.error(err.response)\n      })\n  }\n}","/* ============\n * Actions for the article module\n * ============\n *\n * The actions that are available on the\n * article module.\n */\n\nimport {\n  ARTICLE_ADD,\n  ARTICLE_UPDATE,\n  ARTICLE_REMOVE,\n  ARTICLE_LIST,\n} from './action-types';\n\nexport function add(payload) {\n  return {\n    type: ARTICLE_ADD,\n    payload\n  }\n}\n\nexport function update(payload) {\n  return {\n    type: ARTICLE_UPDATE,\n    payload\n  }\n}\n\nexport function remove(payload) {\n  return {\n    type: ARTICLE_REMOVE,\n    payload\n  }\n}\n\nexport function list(payload) {\n  return {\n    type: ARTICLE_LIST,\n    payload\n  }\n}"],"sourceRoot":""}